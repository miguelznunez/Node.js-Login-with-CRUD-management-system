<%- include("partials/header.ejs") %>

    <% if(typeof message == "undefined") { %>

      <div class="app">

        <aside class="sidebar-menu">
          <div class="menu">
            <ul id="menu">
              <li id="menu-home"><a href="/"><i class="fa fa-home"></i><span>Home</span></a></li>
              <li id="menu-comunicacao"><a href="#"><i class="fa fa-users"></i><span>User Management</span><span
                    class="fa fa-angle-double-right" style="float: right"></span></a>
                <ul id="menu-comunicacao-sub">
                  <li id="menu-mensagens" style="width: 140px">
                    <p>Find Users<i class="fa fa-angle-right" style="float: right; margin-right: -8px; margin-top: 2px;"></i>
                    </p>
                    <ul id="menu-mensagens-sub">
                      <li id="menu-mensagens-enviadas"><a href="/user-management/active-users">Active</a></li>
                      <li id="menu-mensagens-recebidas"><a href="/user-management/banned-users">Banned</a></li>
                      <li id="menu-mensagens-nova"><a href="/user-management/deleted-users">Deleted</a></li>
                    </ul>
                  </li>
                  <li id="menu-arquivos"><a href="/user-management/create-user">Create User</a></li>
                </ul>
              </li>
              <li id="menu-academico"><a href="#"><i class="fa fa-graduation-cap"></i><span>Acadêmico</span><span
                    class="fa fa-angle-right" style="float: right"></span></a>
                <ul id="menu-academico-sub">
                  <li id="menu-academico-avaliacoes"><a href="#">Avaliações</a></li>
                  <li id="menu-academico-boletim"><a href="#">Boletim</a></li>
                </ul>
              </li>
              <li><a href="#"><i class="fa fa-table"></i><span>Agenda</span><span class="fa fa-angle-right"
                    style="float: right"></span></a>
                <ul>
                  <li><a href="#">Avaliações Agendadas</a></li>
                  <li><a href="#">Faltas</a></li>
                  <li><a href="#">Calendário</a></li>
                </ul>
              </li>
              <li><a href="#"><i class="fa fa-history"></i><span>Rematrícula</span></a></li>
              <li><a href="#"><i class="fa fa-gears"></i><span>Dados Cadastrais</span></a></li>
              <li><a href="#"><i class="fa fa-institution"></i><span>Instituição</span><span class="fa fa-angle-right"
                    style="float: right"></span></a>
                <ul>
                  <li><a href="#">Relação de Alunos</a></li>
                  <li><a href="#">Relação de Professores</a></li>
                  <li><a href="#">Plano de Ensino</a></li>
                  <li><a href="#">Pagamentos Pendentes</a></li>
                  <li><a href="#">Mapa</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </aside>

        <main class="content">

          <div class="sidebar-hamburger">
            <span class="sbar"></span>
            <span class="sbar"></span>
            <span class="sbar"></span>
          </div>

          <div class="server-message"></div>

          <h3>Edit user # <%= rows[0].id %>
          </h3>

          <br>
          
          <form id="update-user-form">
            <input type="hidden" id="id" value="<%= rows[0].id %>">
            <input type="text" id="fName" maxlength="25" placeholder="First name" value="<%= rows[0].fName %>" required disabled>
            <input type="text" id="lName" maxlength="25" placeholder="Last name" value="<%= rows[0].lName %>" required disabled>
            <input type="email" id="email" maxlength="100" placeholder="Email" value="<%= rows[0].email %>" required disabled>
            <div class="admin-user-radios">
              <% if(rows[0].status != "Banned" ) { %>
                <div>
                  <label>Ban this user?</label>
                </div>
                <div>
                  <input type="radio" name="banned" value="Yes" required>
                  <label for="Yes">Yes</label>
                  <br>
                  <input type="radio" name="banned" value="No" checked required>
                  <label for="No">No</label>
                </div>
              <% } else { %>
                <div>
                  <label>Unban this user?</label>
                </div>
                <div>
                  <input type="radio" name="banned" value="No" required>
                  <label for="No">Yes</label>
                  <br>
                  <input type="radio" name="banned" value="Yes" checked required>
                  <label for="Yes">No</label>
                </div>
                <% } %>
              </div>
          
            <div class="admin-user-radios">
              <div>
                <label>Make this user an
                  admin?</label>
              </div>
              <div>
                <% if(rows[0].admin == "Yes") { %>
                  <input type="radio" name="admin" value="Yes" checked required>
                  <label for="Yes">Yes</label>
                  <br>
                  <input type="radio" name="admin" value="No" required>
                  <label for="No">No</label>
                <% } else { %>
                  <input type="radio" name="admin" value="Yes" required>
                  <label for="Yes">Yes</label>
                  <br>
                  <input type="radio" name="admin" value="No" checked required>
                  <label for="No">No</label>
                <% } %>
              </div>
            </div>
            <button class="auth-btn">Update</button>
          </form>

        </main>

      </div>

      <script>
        const sidebarHamburger = document.querySelector(".sidebar-hamburger")
        const sidebarMenu = document.querySelector(".sidebar-menu")

        sidebarHamburger.addEventListener("click", () => {
          sidebarHamburger.classList.toggle("active")
          sidebarMenu.classList.toggle("active")
        })
      </script>

      <script src="/js/update-user.js"></script>

    <% } else { %>

      <div class="container">
        <div class="server-message error">
          <%= message %>
        </div>
        
        <div class="flex">
          <a href="/user-management/active-users">User Management</a> / <p>Edit User</p>
        </div>
      </div>

    <% } %>



  <script src="/js/script.js"></script>

<%- include("partials/footer.ejs") %>